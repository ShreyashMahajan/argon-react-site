{"ast":null,"code":"import _regeneratorRuntime from \"C:/Shreyash/Projects/Coupon site/argon-dashboard-react-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Shreyash/Projects/Coupon site/argon-dashboard-react-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport t from \"jsqr\";\nimport e from \"pdfjs-dist\";\nvar n = e.getDocument,\n  a = e.GlobalWorkerOptions,\n  o = e.version;\nfunction r(_x) {\n  return _r.apply(this, arguments);\n}\nfunction _r() {\n  _r = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(t) {\n    var e, _t, _a, _t2;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          e = new Response(t);\n          if (!(\"application/pdf\" === t.type)) {\n            _context4.next = 13;\n            break;\n          }\n          _context4.t0 = Uint8Array;\n          _context4.next = 5;\n          return e.arrayBuffer();\n        case 5:\n          _context4.t1 = _context4.sent;\n          _t = new _context4.t0(_context4.t1);\n          _context4.next = 9;\n          return n(_t).promise;\n        case 9:\n          _a = _context4.sent;\n          _context4.next = 12;\n          return function () {\n            var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(t) {\n              var e, _n, _a2, _o, _r2, s, c, h;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    e = null;\n                    _n = 1;\n                  case 2:\n                    if (!(_n <= t.numPages)) {\n                      _context.next = 17;\n                      break;\n                    }\n                    _context.next = 5;\n                    return t.getPage(_n);\n                  case 5:\n                    _a2 = _context.sent;\n                    _o = document.createElement(\"canvas\");\n                    _o.height = 3508, _o.width = 2480;\n                    _r2 = _a2.getViewport({\n                      scale: 1\n                    }), s = Math.min(_o.height / _r2.height, _o.width / _r2.width), c = _a2.getViewport({\n                      scale: s\n                    }), h = {\n                      canvasContext: _o.getContext(\"2d\"),\n                      viewport: c\n                    };\n                    _context.next = 11;\n                    return _a2.render(h).promise;\n                  case 11:\n                    e = i(_o);\n                    if (!(null !== e)) {\n                      _context.next = 14;\n                      break;\n                    }\n                    return _context.abrupt(\"return\", e);\n                  case 14:\n                    _n++;\n                    _context.next = 2;\n                    break;\n                  case 17:\n                    return _context.abrupt(\"return\", null);\n                  case 18:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x2) {\n              return _ref.apply(this, arguments);\n            };\n          }()(_a);\n        case 12:\n          return _context4.abrupt(\"return\", _context4.sent);\n        case 13:\n          _context4.next = 15;\n          return e.blob();\n        case 15:\n          _t2 = _context4.sent;\n          _context4.next = 18;\n          return function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(t) {\n              var e, n, _i, _arr, _t3, _a3;\n              return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.next = 2;\n                    return function () {\n                      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(t) {\n                        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                          while (1) switch (_context2.prev = _context2.next) {\n                            case 0:\n                              return _context2.abrupt(\"return\", new Promise(function (e, n) {\n                                var a = new Image();\n                                a.onload = function () {\n                                  return e(a);\n                                }, a.onerror = n, a.src = URL.createObjectURL(t);\n                              }));\n                            case 1:\n                            case \"end\":\n                              return _context2.stop();\n                          }\n                        }, _callee2);\n                      }));\n                      return function (_x4) {\n                        return _ref3.apply(this, arguments);\n                      };\n                    }()(t);\n                  case 2:\n                    e = _context3.sent;\n                    n = document.createElement(\"canvas\");\n                    _i = 0, _arr = [.5, 1, .25];\n                  case 5:\n                    if (!(_i < _arr.length)) {\n                      _context3.next = 14;\n                      break;\n                    }\n                    _t3 = _arr[_i];\n                    n.height = e.height * _t3, n.width = e.width * _t3, n.getContext(\"2d\").drawImage(e, 0, 0, n.width, n.height);\n                    _a3 = i(n);\n                    if (!_a3) {\n                      _context3.next = 11;\n                      break;\n                    }\n                    return _context3.abrupt(\"return\", _a3);\n                  case 11:\n                    _i++;\n                    _context3.next = 5;\n                    break;\n                  case 14:\n                    return _context3.abrupt(\"return\", null);\n                  case 15:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3);\n            }));\n            return function (_x3) {\n              return _ref2.apply(this, arguments);\n            };\n          }()(_t2);\n        case 18:\n          return _context4.abrupt(\"return\", _context4.sent);\n        case 19:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return _r.apply(this, arguments);\n}\nfunction i(e) {\n  var n = e.getContext(\"2d\").getImageData(0, 0, e.width, e.height),\n    a = t(n.data, e.width, e.height, {\n      inversionAttempts: \"attemptBoth\"\n    });\n  return (null == a ? void 0 : a.data) || null;\n}\na.workerSrc = \"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(o, \"/pdf.worker.min.js\");\nexport { r as scanFile };\n//# sourceMappingURL=index.modern.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}